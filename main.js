const apiUrl="https://mp3quran.net/api/v3/",lang="ar";async function getReciters(){let e=await fetch(`${apiUrl}reciters`),t=await e.json(),a=document.querySelector("#chooseReciters");a.innerHTML=`<option>أختر قارئ</option>`,t.reciters.forEach(e=>{a.innerHTML+=`<option value="${e.id}">${e.name}</option>`}),a.addEventListener("change",e=>getMoshef(e.target.value))}async function getMoshef(e){let t=await fetch(` ${apiUrl}reciters?language=ar&reciter=${e}`),a=await t.json(),n=document.querySelector("#chooseMoshef");n.innerHTML=`<option disabled selected>أختر مصحف</option>`;let o=a.reciters[0].moshaf;o.forEach(e=>{n.innerHTML+=`<option value="${e.id}" data-server=${e.server} sura-list=${e.surah_list}>${e.name}</option>`}),n.addEventListener("change",e=>{var t=n.options[n.selectedIndex];getSura(t.getAttribute("data-server"),t.getAttribute("sura-list"))})}async function getSura(e,t){let a=await fetch(` ${apiUrl}suwar?language=ar`),n=await a.json(),o=document.querySelector("#chooseSura");o.innerHTML=`<option>أختر سورة</option>`;let i=n.suwar;(t=t.split(",")).forEach(t=>{let a=t.padStart(3,"0");i.forEach(n=>{n.id==t&&(o.innerHTML+=`<option value="${e}${a}.mp3">${n.name}</option>`)})}),o.addEventListener("change",getSelectedSura)}function getSelectedSura(){let e=document.querySelector("#chooseSura"),t=e.options[e.selectedIndex],a=document.querySelector(".audio audio");a.src=t.value,console.log(a.src);let n=document.querySelector(".down");n.style.display="block"}async function playLive(e){if(Hls.isSupported()){var t=document.getElementById("video"),a=new Hls;a.loadSource(e),a.attachMedia(t),a.on(Hls.Events.MANIFEST_PARSED,function(){t.play()})}}async function getKindZekr(){let e=document.getElementById("chooseKindZekr");e.addEventListener("change",function(){let t=e.options[e.selectedIndex],a=t.value;"أذكار الصباح"===a?getNumofZekrSubah():getNumofZekrMasa()})}async function getNumofZekrSubah(){let e=await fetch("https://ahegazy.github.io/muslimKit/json/azkar_sabah.json"),t=await e.json(),a=document.querySelector("#chooseNumZekr");a.innerHTML=`<option disabled selected> أختر رقم الذكر </option>`,t.content.forEach((e,t)=>{a.innerHTML+=`<option id=${t}>ذكر رقم ${t+1}</option>`})}async function getNumofZekrMasa(){let e=await fetch("https://ahegazy.github.io/muslimKit/json/azkar_massa.json"),t=await e.json(),a=document.querySelector("#chooseNumZekr");a.innerHTML=`<option disabled selected> أختر رقم الذكر </option>`,t.content.forEach((e,t)=>{a.innerHTML+=`<option id=${t}>ذكر رقم ${t+1}</option>`})}async function printzkrSubah(e){let t=await fetch("https://ahegazy.github.io/muslimKit/json/azkar_sabah.json"),a=await t.json(),n=document.querySelector(".container2 p"),o=document.querySelector(".container2 .p2"),i=document.querySelector("#Azkar .container2");i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",n.innerHTML=a.content[e].zekr,o.innerHTML=a.content[e].bless;let r=document.querySelector(".counter");r.innerHTML=` العدد المطلوب ${a.content[e].repeat}`;let l=document.querySelector(".counter2"),s=document.querySelector("#plus");s.style.display="block",l.style.display="block",r.style.display="block"}async function printzkrmassa(e){let t=await fetch("https://ahegazy.github.io/muslimKit/json/azkar_massa.json"),a=await t.json();console.log(a);let n=document.querySelector(".container2 p"),o=document.querySelector(".container2 .p2"),i=document.querySelector("#Azkar .container2");i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",n.innerHTML=a.content[e].zekr,o.innerHTML=a.content[e].bless;let r=document.querySelector(".counter");r.innerHTML=` العدد المطلوب ${a.content[e].repeat}`;let l=document.querySelector(".counter2"),s=document.querySelector("#plus");s.style.display="block",l.style.display="block",r.style.display="block"}getReciters(),chooseNumZekr.addEventListener("change",function(){let e=document.querySelector("#chooseNumZekr"),t=e.options[e.selectedIndex],a=t.getAttribute("id"),n=document.getElementById("chooseKindZekr"),o=n.options[n.selectedIndex],i=o.value;if("أذكار الصباح"===i){printzkrSubah(a);let r=document.querySelector(".counter2");r.firstChild.textContent=""}else{printzkrmassa(a);let l=document.querySelector(".counter2");l.firstChild.textContent=""}}),getKindZekr();let moonIcon=document.querySelectorAll(".fa-moon");moonIcon.forEach((e,t)=>{e.addEventListener("click",function(){if(0==t){let a=document.querySelector(".container2");a.classList.toggle("dark"),a.classList.toggle("white"),e.classList.toggle("fa-solid")}else{let n=document.querySelector(".container4");n.classList.toggle("dark"),n.classList.toggle("white"),e.classList.toggle("fa-solid")}})});const plus=document.querySelector("#plus");plus.addEventListener("click",function(){let e=document.querySelector(".counter2");e.firstChild.textContent++});const cities=["Cairo","Alexandria","Giza","Shubra El Kheima","Port Said","Suez","Luxor","Asyut","Mansoura","Tanta","Ismailia","Faiyum","Zagazig","Damietta","Aswan","Minya","Beni Suef","Hurghada","Sohag","Qena",],citiesArabic=["القاهرة","الإسكندرية","الجيزة","شبرا الخيمة","بورسعيد","السويس","الأقصر","أسيوط","المنصورة","طنطا","الإسماعيلية","الفيوم","الزقازيق","دمياط","أسوان","المنيا","بني سويف","الغردقة","سوهاج","قنا",];cities.forEach((e,t)=>{citiesArabic.forEach((a,n)=>{t===n&&(chooseCity.innerHTML+=`<option value=${e}>${a}</option>`)})});let titletext;function createSpans(e,t){let a=document.querySelector(".container3"),n=document.createElement("span");n.innerHTML=`${t} : ${e}`,n.style.cssText="display:block;margin-left:25px",a.appendChild(n)}chooseCity.addEventListener("change",async function(){var e=document.querySelector("#chooseCity"),t=e.options[e.selectedIndex].value;let a=await fetch(`https://api.aladhan.com/v1/timingsByCity/09-09-2024?city=${t}&country=egypt&method=8`),n=await a.json(),o=document.querySelector(".container3");o.style.display="block";let i=n.data.date.readable;titletext=i;let r=Object.values(n.data.timings);""!==o.innerHTML&&(o.innerHTML=""),r.forEach((e,t)=>{prayers.forEach((a,n)=>{t===n&&createSpans(e,a)})})});const prayers=["الفجر","شروق الشمس","الظهر","العصر","غروب الشمس","المغرب","العشاء",],apiSuraText="https://api.alquran.cloud/v1/surah/";async function getSuraName(){let e=await fetch(` ${apiUrl}suwar?language=ar`),t=await e.json(),a=document.querySelector("#nameSura");a.innerHTML=` <option value="" disabled selected>  أختر </option>`,t.suwar.forEach((e,t)=>{a.innerHTML+=`<option value=${t+1}>${e.name}</option>`})}nameSura.addEventListener("change",async function(){let e=document.querySelector("#nameSura"),t=e.options[e.selectedIndex],a=t.value,n=await fetch(`https://api.alquran.cloud/v1/surah/${a}`),o=await n.json(),i=document.querySelector(".container4");""!==i.innerHTML&&(i.innerHTML="");let r=document.querySelector("#SuraText .fa-moon");r.style.display="block";let l=1;i.style.display="block",o.data.ayahs.forEach((e,t)=>{i.innerHTML+=`${e.text}(${l})`,console.log(e.text),l++})}),getSuraName();let iconToogle=document.getElementById("toggole");const ul=document.querySelector("ul");async function AsmaaAllah(){let e,t=document.querySelector("#AsmaaGod .container");for(e=1,t.style.width="90%",t.style.fontSize="30px";e<=77;e++){let a=await fetch(`https://api.aladhan.com/v1/asmaAlHusna/${e}`),n=await a.json(),o=document.createElement("span");o.style.cssText="color:white;margin:5px";let i=",";77===e&&(i=".");let r=document.createTextNode(`${n.data[0].name} ${i}`);o.appendChild(r),t.appendChild(o)}}function downloadBlob(e,t){var a=document.createElement("a");a.download=t,a.href=e,document.body.appendChild(a),a.click(),a.remove()}function downloadResource(e){filename=e.split("\\").pop().split("/").pop(),fetch(e,{mode:"no-cors"}).then(e=>e.blob()).then(e=>{downloadBlob(window.URL.createObjectURL(e),filename)}).catch(e=>console.error(e))}iconToogle.addEventListener("click",function(){ul.classList.toggle("ul")}),AsmaaAllah();
